<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéØ ‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç Mobile-Friendly</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Prompt&display=swap');

body, html {
  margin:0; padding:0;
  font-family:'Prompt', sans-serif;
  width:100%; height:100%;
  background: linear-gradient(135deg,#6c5ce7,#00cec9);
  transition: background 1s;
  display:flex;
  justify-content:center;
  align-items:center;
}

#menu, #game, #resultScreen {
  position:absolute;
  top:0; left:0; width:100%; height:100%;
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  transition:opacity 0.5s;
  padding:20px;
  box-sizing:border-box;
}

#menu { z-index:2; }
#game, #resultScreen { z-index:1; opacity:0; pointer-events:none; }

button, select, input {
  font-size:1.2em;
  padding:12px 20px;
  margin:8px;
  border-radius:12px;
  border:none;
  cursor:pointer;
  width:80%;
  max-width:300px;
  text-align:center;
}

button { background:#00cec9; color:white; }
button:hover { background:#00b894; }

input[type="number"] { text-align:center; }

h1,h2,h3 { margin:5px; text-align:center; word-break:break-word; }

.win { color:#00ffcc; animation: glow 1s infinite alternate; }
.lose { color:#ff7675; }

@keyframes glow {
  from { text-shadow:0 0 10px #00ffcc; }
  to { text-shadow:0 0 25px #2ecc71,0 0 45px #00cec9; }
}

.leaderboard {
  margin-top:15px;
  background: rgba(0,0,0,0.2);
  border-radius:10px;
  padding:10px;
  width:80%;
  max-width:300px;
  text-align:left;
  font-size:0.9em;
}

/* Responsive ‡∏õ‡∏£‡∏±‡∏ö‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
@media(max-width:480px){
  h1{ font-size:1.8em; }
  h2{ font-size:1.4em; }
  h3{ font-size:1.2em; }
  button, select, input{ font-size:1em; padding:10px; width:90%; }
}
</style>
</head>
<body>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π -->
<div id="menu">
  <h1>üéØ ‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç</h1>
  <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô:</p>
  <select id="playerModeMenu">
    <option value="1">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏Ñ‡∏ô</option>
    <option value="2">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 2 ‡∏Ñ‡∏ô</option>
  </select>
  <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å:</p>
  <select id="difficultyMenu">
    <option value="easy">‡∏á‡πà‡∏≤‡∏¢ (1‚Äì100)</option>
    <option value="hard">‡∏¢‡∏≤‡∏Å (1‚Äì1000)</option>
  </select>
  <button onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° -->
<div id="game">
  <h2 id="rangeText">‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 1 ‡∏ñ‡∏∂‡∏á 100</h2>
  <h3 id="playerTurn">üéÆ Player 1 ‡∏ñ‡∏∂‡∏á‡∏ï‡∏≤‡∏Ñ‡∏∏‡∏ì!</h3>

  <input type="number" id="guess" placeholder="‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
  <button onclick="checkGuess()">‡∏ó‡∏≤‡∏¢!</button>

  <p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≤‡∏¢: <span id="count">0</span> / <span id="max">15</span></p>
  <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="score">0</span></p>

  <!-- ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢ -->
  <div id="guessHistoryContainer">
    <h3>üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢</h3>
    <ul id="guessHistoryList"></ul>
  </div>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• -->
<div id="resultScreen">
  <h2 id="resultMessage"></h2>
  <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <span id="finalScore">0</span></p>
  <p>‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: <span id="highScore">0</span></p>
  <div class="leaderboard">
    <h3>üèÜ Leaderboard</h3>
    <ul id="leaderboardList"></ul>
  </div>
  <button onclick="backToMenu()">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
</div>

<!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á -->
<audio id="winSound" src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_c2a35b8b1c.mp3?filename=success-1-6297.mp3"></audio>
<audio id="loseSound" src="https://cdn.pixabay.com/download/audio/2021/09/01/audio_b8d3f7cc54.mp3?filename=failure-1-89170.mp3"></audio>

<script>
let secretNumber, guessCount=0, maxGuesses=15, maxNumber=100;
let score=0, highScore=0, currentPlayer=1, totalPlayers=1;
let playerScores=[0,0], guessHistory=[];
let leaderboard=JSON.parse(localStorage.getItem("leaderboard")||"[]");
const winSound=document.getElementById("winSound");
const loseSound=document.getElementById("loseSound");

if(localStorage.getItem("highScore")) highScore=parseInt(localStorage.getItem("highScore"));

function startGame(){
  totalPlayers=parseInt(document.getElementById("playerModeMenu").value);
  const diff=document.getElementById("difficultyMenu").value;
  if(diff==="easy"){maxNumber=100; maxGuesses=15;} else {maxNumber=1000; maxGuesses=25;}
  document.getElementById("max").textContent=maxGuesses;
  document.getElementById("rangeText").textContent=`‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 1 ‡∏ñ‡∏∂‡∏á ${maxNumber}`;
  secretNumber=Math.floor(Math.random()*maxNumber)+1;
  guessCount=0; score=0; currentPlayer=1; playerScores=[0,0]; guessHistory=[];
  document.getElementById("count").textContent=0;
  document.getElementById("score").textContent=0;
  document.getElementById("playerTurn").textContent=`üéÆ Player ${currentPlayer} ‡∏ñ‡∏∂‡∏á‡∏ï‡∏≤‡∏Ñ‡∏∏‡∏ì!`;
  document.getElementById("guessHistoryList").innerHTML="";
  document.getElementById("menu").style.opacity=0; document.getElementById("menu").style.pointerEvents="none";
  document.getElementById("game").style.opacity=1; document.getElementById("game").style.pointerEvents="auto";
  document.body.style.background = "linear-gradient(135deg, #6c5ce7, #00cec9)";
}

function checkGuess(){
  const guess=parseInt(document.getElementById("guess").value);
  if(!guess||guess<1||guess>maxNumber){alert(`‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 1-${maxNumber}`); return;}
  guessCount++;
  document.getElementById("count").textContent=guessCount;

  let hint="";
  if(guess===secretNumber){
    hint="üéâ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!";
    score=(maxGuesses-guessCount+1)*10;
    playerScores[currentPlayer-1]=score;
    winSound.play();
    document.body.style.background="linear-gradient(135deg, #00b894, #55efc4)";
    showResult(`üéâ Player ${currentPlayer} ‡∏ä‡∏ô‡∏∞!`);
  } else if(guess<secretNumber){hint="üìà ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏µ‡∏Å!";}
  else {hint="üìâ ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏µ‡∏Å!";}

  // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢
  guessHistory.push({number:guess,hint:hint});
  updateGuessHistoryDisplay();

  if(guessCount>=maxGuesses && guess!==secretNumber){
    loseSound.play();
    showResult(`üò¢ ‡∏´‡∏°‡∏î‡∏£‡∏≠‡∏ö! ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏∑‡∏≠ ${secretNumber}`);
  }

  document.getElementById("score").textContent=score;
}

function updateGuessHistoryDisplay(){
  const list=document.getElementById("guessHistoryList");
  list.innerHTML=guessHistory.map(g=>`<li>${g.number} ‚Üí ${g.hint}</li>`).join("");
}

function showResult(message){
  if(score>highScore){highScore=score; localStorage.setItem("highScore",highScore);}
  document.getElementById("finalScore").textContent=score;
  document.getElementById("highScore").textContent=highScore;
  updateLeaderboard(score);
  document.getElementById("resultMessage").textContent=message;
  document.getElementById("game").style.opacity=0; document.getElementById("game").style.pointerEvents="none";
  document.getElementById("resultScreen").style.opacity=1; document.getElementById("resultScreen").style.pointerEvents="auto";
}

function updateLeaderboard(score){
  let name=`Player ${currentPlayer}`;
  leaderboard.push({name,score,date:new Date().toLocaleString()});
  leaderboard.sort((a,b)=>b.score-a.score);
  leaderboard=leaderboard.slice(0,5);
  localStorage.setItem("leaderboard",JSON.stringify(leaderboard));
  const list=document.getElementById("leaderboardList");
  list.innerHTML=leaderboard.map(e=>`<li>${e.name} ‚Äî ${e.score} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (${e.date})</li>`).join("");
}

function backToMenu(){
  document.getElementById("menu").style.opacity=1; document.getElementById("menu").style.pointerEvents="auto";
  document.getElementById("resultScreen").style.opacity=0; document.getElementById("resultScreen").style.pointerEvents="none";
}
</script>

</body>
</html>
